{"version":3,"sources":["Components/imageGalleryItem/ImageGalleryItem.module.css","Components/button/Button.module.css","Components/imageGallery/ImageGallery.module.css","Components/searchbar/Searchbar.module.css","services/api.js","Components/button/Button.js","Components/modal/Modal.js","Components/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/searchbar/Searchbar.js","Components/App.js","index.js","Components/modal/Modal.module.css"],"names":["module","exports","apiService","pictureName","page","fetch","then","res","json","Button","onHandleonClick","type","className","s","onClick","modalRoot","document","querySelector","Modal","onClose","largeImageURL","useEffect","window","addEventListener","handleKeyDown","removeEventListener","event","code","createPortal","Overlay","currentTarget","target","src","alt","ImageGalleryItem","pictures","useState","showMOdale","setShowMOdale","setLargeImageURL","toggleModale","map","hit","webformatURL","id","ImageGalleryItem_image","ImageGallery","setPage","setPicrures","loading","setLoading","hits","finally","img","prev","scrollTo","top","documentElement","scrollHeight","behavior","Searchbar","onSubmit","picture","setPicture","SearchForm","e","preventDefault","SearchForm_button","SearchForm_button_labe","onChange","value","SearchForm_input","autoComplete","autoFocus","placeholder","App","setPictureName","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.96ca3415.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2o3rl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__lrGax\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2aNBg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3puQa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__bK7_e\",\"SearchForm\":\"Searchbar_SearchForm__2YvhV\",\"SearchForm_button\":\"Searchbar_SearchForm_button__4YhL-\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1kJIF\",\"SearchForm_input\":\"Searchbar_SearchForm_input__qHCiy\"};","const BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"23293427-f7753480c7139e95ecc6333d5\";\r\nexport const apiService = (pictureName, page) => {\r\n  return fetch(\r\n    `${BASE_URL}?q=${pictureName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((res) => res.json());\r\n};\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onHandleonClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onHandleonClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nconst Modal = ({ onClose, largeImageURL }) => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n  const backdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={backdropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Modal from \"../modal/Modal\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ pictures }) => {\r\n  const [showMOdale, setShowMOdale] = useState(false);\r\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\r\n\r\n  const toggleModale = (largeImageURL) => {\r\n    setLargeImageURL(largeImageURL);\r\n    setShowMOdale(!showMOdale);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showMOdale && (\r\n        <Modal onClose={toggleModale} largeImageURL={largeImageURL} />\r\n      )}\r\n\r\n      {pictures.map((hit) => {\r\n        const togglePictere = () => toggleModale(hit.largeImageURL);\r\n\r\n        return (\r\n          <li key={hit.id} className={s.ImageGalleryItem}>\r\n            <img\r\n              src={hit.webformatURL}\r\n              alt=\"\"\r\n              id={hit.largeImageURL}\r\n              className={s.ImageGalleryItem_image}\r\n              onClick={togglePictere}\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { useEffect, useState } from \"react\";\r\nimport { apiService } from \"../../services/api.js\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from \"../button/Button\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ pictureName, page, setPage }) => {\r\n  const [pictures, setPicrures] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (pictureName) {\r\n      if (page === 1) {\r\n        setLoading(true);\r\n        apiService(pictureName, 1)\r\n          .then((pictures) => {\r\n            setPicrures(pictures.hits);\r\n            setLoading(true);\r\n            setPage(1);\r\n          })\r\n          .finally(() => {\r\n            setLoading(false);\r\n          });\r\n      }\r\n\r\n      if (page !== 1) {\r\n        setLoading(true);\r\n        apiService(pictureName, page)\r\n          .then((img) => {\r\n            setPicrures((prev) => [...(prev || []), ...img.hits]);\r\n            setLoading(true);\r\n          })\r\n          .finally(() => {\r\n            setLoading(false);\r\n            window.scrollTo({\r\n              top: document.documentElement.scrollHeight,\r\n              behavior: \"smooth\",\r\n            });\r\n          });\r\n      }\r\n    }\r\n  }, [page, pictureName]);\r\n\r\n  const onHandleonClick = () => {\r\n    setPage((prev) => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loader />}\r\n      <ul className={s.ImageGallery}>\r\n        {pictures && <ImageGalleryItem pictures={pictures} />}\r\n      </ul>\r\n      {pictures && <Button onHandleonClick={onHandleonClick} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { useState } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [picture, setPicture] = useState(\"\");\r\n\r\n  const inputChange = (e) => {\r\n    setPicture(e.target.value);\r\n  };\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(picture);\r\n  };\r\n  //  reset = () => {\r\n  //   setPicture(\"\");\r\n  // };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={onFormSubmit}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_labe}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={inputChange}\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React, { useState } from \"react\";\r\n\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\n\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\n\r\nconst App = () => {\r\n  const [pictureName, setPictureName] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const handleFormSubmit = (pictureName) => {\r\n    setPage(1);\r\n    setPictureName(pictureName);\r\n  };\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      <ImageGallery pictureName={pictureName} page={page} setPage={setPage} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./Components/App\";\r\nimport \"./styles.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__LSIy_\",\"Modal\":\"Modal_Modal__7akBA\"};"],"sourceRoot":""}